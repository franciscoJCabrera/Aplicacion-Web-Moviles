<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang = "es"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"/>
    <title>Busqueda</title>
</h:head>
<ui:composition template="/WEB-INF/Template/plantillaGeneral.xhtml">

    <ui:define name="enlaces">

        <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
            <li><a href="../index.xhtml" class="nav-link px-2 text-white">Pagina principal</a></li>
            <li><a href="busqueda.xhtml" class="nav-link px-2 text-secondary">Busqueda</a></li>
            <li><a href="verSubastas.xhtml" class="nav-link px-2 text-white">Ver tus subastas</a></li>
        </ul>

    </ui:define>

    <ui:define name="cuerpo">

        <p:growl id="messages" showDetail="false" />

        <div class="p-3 mb-lg-3 text-emphasis-dark ms-5 me-5">

            <h2>Busque su próximo teléfono</h2>

            <h:form method="post" id="form_busqueda">

                <div class="mb-3 field">
                    <p:outputLabel for="phoneMark" class="form-label" value="Marca"/>
                    <span class="ui-float-label">
                        <p:selectOneMenu id="phoneMark" name="MarcaTel" class="form-select" value="#{busquedaCtrl.phoneToSearch.marca}">
                            <f:selectItem itemLabel="" itemValue="" />
                            <f:selectItems value="#{busquedaCtrl.listaMarcas}" />
                            <f:ajax listener="#{busquedaCtrl.actualizaListaModelos()}" render="phoneModel" />
                        </p:selectOneMenu>
                        <p:outputLabel for="@previous" value="Seleccione uno" />
                    </span>
                </div>

                <div class="mb-3 field">
                    <p:outputLabel for="phoneModel" class="form-label" value="Modelo" />
                    <span class="ui-float-label">
                        <p:selectOneMenu id="phoneModel" name="modeloPhone" class="form-select" value="#{busquedaCtrl.phoneToSearch.modelo}">
                            <f:selectItem itemLabel="" itemValue="" />
                            <f:selectItems value="#{busquedaCtrl.listaModelos}" />
                        </p:selectOneMenu>
                        <p:outputLabel for="@previous" value="Seleccione uno" />

                    </span>
                </div>

                <div class="mb-3 field">
                    <p:outputLabel for="@next" class="form-label" value="Correo del usuario" />
                    <p:inputText class="form-control" id="correo_usuario" name="correo_usuario" value="#{busquedaCtrl.correoUsuario}"/>
                    <small class="block">Introduzca un correo de 5 letras que acabe en  @gmail.com, @hotmail.com, @hotmail.es, @red.ujaen.es o @ujaen.es.</small>
                </div>

                <div class="mb-3 field">
                    <p:outputLabel for="@next" class="form-label" value="Capacidad mínima de carga de la batería" />
                    <p:inputText class="form-control" id="baterry" type="number" name="baterry" maxlength="5" value="#{busquedaCtrl.capacidadBateria}"/>
                    <small class="block">Introduzca un número.</small>
                </div>

                <div class="mb-3 field">
                    <p:outputLabel for="chargeSpeed" class="form-label" value="Velocidad mínima de carga"/>
                    <span class="ui-float-label">
                        <p:selectOneMenu id="chargeSpeed" name="capacidad_carga" class="form-select" value="#{busquedaCtrl.phoneToSearch.velocidadCarga}">
                            <f:selectItem itemLabel="" itemValue="" />
                            <f:selectItems value="#{busquedaCtrl.listaCapacidadCarga}" />
                        </p:selectOneMenu>
                        <p:outputLabel for="@previous" value="Seleccione uno" />
                    </span>
                </div>

                <div class="mb-3 field">
                    <p:outputLabel for="screenTechnology" class="form-label" value="Tecnología de la pantalla" />
                    <span class="ui-float-label">
                        <p:selectOneMenu id="screenTechnology" name="tecnologia_pantalla" class="form-select" value="#{busquedaCtrl.phoneToSearch.tecnologiaPantalla}">
                            <f:selectItem itemLabel="" itemValue="" />
                            <f:selectItems value="#{busquedaCtrl.listaTecnologiaPantalla}" />
                        </p:selectOneMenu>
                        <p:outputLabel for="@previous" value="Seleccione uno" />
                    </span>
                </div>

                <div class="mb-3 field">
                    <p:outputLabel for="tasaRefresco" class="form-label" value="Tasa mínima de refresco de la pantalla" />
                    <span class="ui-float-label">
                        <p:selectOneMenu id="tasaRefresco" name="tasaRefresco" class="form-select" value="#{busquedaCtrl.phoneToSearch.tasaRefresco}">
                            <f:selectItem itemLabel="" itemValue="" />
                            <f:selectItems value="#{busquedaCtrl.listaTasaRefresco}" />
                        </p:selectOneMenu>
                        <p:outputLabel for="@previous" value="Seleccione uno" />
                    </span>
                </div>

                <div class="mb-3 field">
                    <p:outputLabel for="capacidadAlmacenamiento" class="form-label" value="Capacidad mínima de almacenamiento" />
                    <span class="ui-float-label">
                        <p:selectOneMenu id="capacidadAlmacenamiento" name="memoriaPrincipal" class="form-select" value="#{busquedaCtrl.phoneToSearch.capacidadAlmacenamiento}">
                            <f:selectItem itemLabel="" itemValue="" />
                            <f:selectItems value="#{busquedaCtrl.listaCapacidadAlmecenamiento}" />
                        </p:selectOneMenu>
                        <p:outputLabel for="@previous" value="Seleccione uno" />
                    </span>
                </div>

                <div class="mb-3 field">
                    <p:outputLabel for="processor" class="form-label" value="Numero mínimo de unidades de procesamiento" />
                    <p:inputText class="form-control" id="processor" type="number" name="processor" maxlength="2" value="#{busquedaCtrl.numCpus}" />
                    <small class="block">Introduzca un número.</small>
                </div>

                <div class="mb-3 field">
                    <p:outputLabel for="memoriaPrincipal" class="form-label" value="Capacidad mínima de memoria RAM" />
                    <span class="ui-float-label">
                        <p:selectOneMenu id="memoriaPrincipal" name="memoriaPrincipal" class="form-select" value="#{busquedaCtrl.phoneToSearch.capacidadRAM}">
                            <f:selectItem itemLabel="" itemValue="" />
                            <f:selectItems value="#{busquedaCtrl.listaCapacidadRAM}" />
                        </p:selectOneMenu>
                        <p:outputLabel for="@previous" value="Seleccione uno" />
                    </span>
                </div>

                <div class="mb-3 field">
                    <p:outputLabel for="precioVenta" class="form-label" value="Precio maximo de venta al público" />
                    <span class="ui-float-label">
                        <p:inputText class="form-control" id="precioVenta" type="number" name="precioVenta" maxlength="7" value="#{busquedaCtrl.precioVentaPublico}" />
                        <small class="block">Introduzca un número.</small>
                    </span>
                </div>

                <div class="mb-3 field">
                    <p:outputLabel for="precioSubasta" class="form-label" value="Precio maximo de la subasta" />
                    <span class="ui-float-label">
                        <p:inputText class="form-control" id="precioSubasta" type="number" name="precioSubasta" maxlength="7" value="#{busquedaCtrl.phoneToSearch.precioActual}" />
                        <small class="block">Introduzca un número.</small>
                    </span>
                </div>

                <p:commandButton value="Buscar" action="#{busquedaCtrl.buscar()}" styleClass="rounded-button" ajax="false" id="boton_buscar"/>
            </h:form>
        </div>
    </ui:define>

</ui:composition>
</html>
